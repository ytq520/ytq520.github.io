<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<link rel="bookmark" type="image/x-icon" href="/img/logo_miccall.png">
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    ytq520
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/css/mic_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="miccall">
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
</head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css">
<link rel="stylesheet" href="/css/typo.css">
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">ytq520</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  主页  --> 
			<li>
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Data-Analysis/">Data Analysis</a></li><li><a class="category-link" href="/categories/Django/">Django</a></li><li><a class="category-link" href="/categories/JavaScript/">JavaScript</a></li><li><a class="category-link" href="/categories/MySQL/">MySQL</a></li><li><a class="category-link" href="/categories/html/">html</a></li><li><a class="category-link" href="/categories/python基础/">python基础</a>
	                    </li></ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/ytq520" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="500px" href="http://500px.com" target="_blank" rel="noopener">
                            <i class="icon fa fa-500px"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url(/images/thumbs/05.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2>熟悉Numpy</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br></pre></td><td class="code"><pre><span class="line">NumPy： 数组和⽮量计算</span><br><span class="line">NumPy之于数值计算特别重要的原因之⼀，是因为它可以⾼效处理⼤数组的数据。</span><br><span class="line">NumPy是在⼀个连续的内存块中存储数据，独⽴于其他Python内置对象。NumPy的C语⾔编</span><br><span class="line">写的算法库可以操作内存，⽽不必进⾏类型检查或其它前期⼯作。⽐起Python的内置序列，</span><br><span class="line">NumPy数组使⽤的内存更少。</span><br><span class="line">NumPy可以在整个数组上执⾏复杂的计算，⽽不需要Python的for循环。</span><br><span class="line">性能对⽐</span><br><span class="line">基于NumPy的算法要⽐纯Python快10到100倍（甚⾄更快），并且使⽤的内存更少。</span><br><span class="line">In [7]: import numpy as np</span><br><span class="line">In [8]: %timeit my_arr = np.arange(1000000)</span><br><span class="line">In [9]: %timeit my_list = list(range(1000000))</span><br><span class="line">NumPy的ndarray：⼀种多维数组对象</span><br><span class="line">NumPy最重要的⼀个特点就是其N维数组对象（即ndarray）， 该对象是⼀个快速⽽灵活的⼤</span><br><span class="line">数据集容器。你可以利⽤这种数组对整块数据执⾏⼀些数学运算，其语法跟标量元素之间的运</span><br><span class="line">算⼀样。</span><br><span class="line">In [12]: import numpy as np</span><br><span class="line">In [13]: data = np.random.randn(2, 3)</span><br><span class="line">In [14]: data</span><br><span class="line">Out[14]:</span><br><span class="line">array([[-0.2047, 0.4789, -0.5194],</span><br><span class="line"> [-0.5557, 1.9658, 1.3934]])</span><br><span class="line">In [15]: data * 10</span><br><span class="line">Out[15]:</span><br><span class="line">array([[ -2.0471, 4.7894, -5.1944],</span><br><span class="line"> [ -5.5573, 19.6578, 13.9341]])</span><br><span class="line">In [16]: data + data</span><br><span class="line">Out[16]:</span><br><span class="line">array([[-0.4094, 0.9579, -1.0389],</span><br><span class="line"> [-1.1115, 3.9316, 2.7868]])</span><br><span class="line">ndarray是⼀个通⽤的同构数据多维容器，所有元素必须是相同类型的</span><br><span class="line"># 取维度⼤⼩</span><br><span class="line">data.shape</span><br><span class="line"># 取数据数据类型</span><br><span class="line">data.dtype</span><br><span class="line">创建ndarray</span><br><span class="line">In [19]: data1 = [6, 7.5, 8, 0, 1]</span><br><span class="line">In [20]: arr1 = np.array(data1)</span><br><span class="line">In [21]: arr1</span><br><span class="line">Out[21]: array([ 6. , 7.5, 8. , 0. , 1. ])</span><br><span class="line">嵌套序列（⽐如由⼀组等⻓列表组成的列表）将会被转换为⼀个多维数组</span><br><span class="line">In [22]: data2 = [[1, 2, 3, 4], [5, 6, 7, 8]]</span><br><span class="line">In [23]: arr2 = np.array(data2)</span><br><span class="line">In [24]: arr2</span><br><span class="line">Out[24]:</span><br><span class="line">array([[1, 2, 3, 4],</span><br><span class="line"> [5, 6, 7, 8]])</span><br><span class="line"># 取维度</span><br><span class="line">arr2.ndim</span><br><span class="line">arr2.shape</span><br><span class="line">arr2.dtype</span><br><span class="line">zeros和ones分别可以创建指定⻓度或形状的全0或全1数组。empty可以创建⼀个没有任何具</span><br><span class="line">体值的数组</span><br><span class="line">In [29]: np.zeros(10)</span><br><span class="line">Out[29]: array([ 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</span><br><span class="line">In [30]: np.zeros((3, 6))</span><br><span class="line">Out[30]:</span><br><span class="line">array([[ 0., 0., 0., 0., 0., 0.],</span><br><span class="line"> [ 0., 0., 0., 0., 0., 0.],</span><br><span class="line"> [ 0., 0., 0., 0., 0., 0.]])</span><br><span class="line">In [31]: np.empty((2, 3, 2))</span><br><span class="line">np.ones(10)</span><br><span class="line">np.empty返回的都是⼀些未初始化的垃圾值</span><br><span class="line">In [32]: np.arange(15)</span><br><span class="line">Out[32]: array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14])</span><br><span class="line">ndarray的数据类型</span><br><span class="line">In [33]: arr1 = np.array([1, 2, 3], dtype=np.float64)</span><br><span class="line">In [34]: arr2 = np.array([1, 2, 3], dtype=np.int32)</span><br><span class="line">In [35]: arr1.dtype</span><br><span class="line">Out[35]: dtype(&apos;float64&apos;)</span><br><span class="line">In [36]: arr2.dtype</span><br><span class="line">Out[36]: dtype(&apos;int32&apos;)</span><br><span class="line">astype⽅法明确地将⼀个数组从⼀个dtype转换成另⼀个dtype</span><br><span class="line">In [37]: arr = np.array([1, 2, 3, 4, 5])</span><br><span class="line">In [38]: arr.dtype</span><br><span class="line">Out[38]: dtype(&apos;int64&apos;)</span><br><span class="line">In [39]: float_arr = arr.astype(np.float64)</span><br><span class="line">In [40]: float_arr.dtype</span><br><span class="line">Out[40]: dtype(&apos;float64&apos;)</span><br><span class="line">将浮点数转换成整数，则⼩数部分将会被截取删除</span><br><span class="line">In [41]: arr = np.array([3.7, -1.2, -2.6, 0.5, 12.9, 10.1])</span><br><span class="line">In [42]: arr</span><br><span class="line">Out[42]: array([ 3.7, -1.2, -2.6, 0.5, 12.9, 10.1])</span><br><span class="line">In [43]: arr.astype(np.int32)</span><br><span class="line">Out[43]: array([ 3, -1, -2, 0, 12, 10], dtype=int32)</span><br><span class="line">调⽤astype总会创建⼀个新的数组（⼀个数据的备份）</span><br><span class="line">NumPy数组的运算</span><br><span class="line">不⽤编写循环即可对数据执⾏批量运算。NumPy⽤户称其为⽮量化（vectorization）。⼤⼩相</span><br><span class="line">等的数组之间的任何算术运算都会将运算应⽤到元素级</span><br><span class="line">In [51]: arr = np.array([[1., 2., 3.], [4., 5., 6.]])</span><br><span class="line">In [52]: arr</span><br><span class="line">Out[52]:</span><br><span class="line">array([[ 1., 2., 3.],</span><br><span class="line"> [ 4., 5., 6.]])</span><br><span class="line">In [53]: arr * arr</span><br><span class="line">Out[53]:</span><br><span class="line">array([[ 1., 4., 9.],</span><br><span class="line"> [ 16., 25., 36.]])</span><br><span class="line">In [54]: arr - arr</span><br><span class="line">Out[54]:</span><br><span class="line">array([[ 0., 0., 0.],</span><br><span class="line"> [ 0., 0., 0.]])</span><br><span class="line">数组与标量的算术运算会将标量值传播到各个元素</span><br><span class="line">In [55]: 1 / arr</span><br><span class="line">Out[55]:</span><br><span class="line">array([[ 1. , 0.5 , 0.3333],</span><br><span class="line"> [ 0.25 , 0.2 , 0.1667]])</span><br><span class="line">In [56]: arr * 0.5</span><br><span class="line">⼤⼩相同的数组之间的⽐较会⽣成布尔值数组</span><br><span class="line">In [57]: arr2 = np.array([[0., 4., 1.], [7., 2., 12.]])</span><br><span class="line">In [58]: arr2</span><br><span class="line">Out[58]:</span><br><span class="line">array([[ 0., 4., 1.],</span><br><span class="line"> [ 7., 2., 12.]])</span><br><span class="line">In [59]: arr2 &gt; arr</span><br><span class="line">Out[59]:</span><br><span class="line">array([[False, True, False],</span><br><span class="line"> [ True, False, True]], dtype=bool)</span><br><span class="line">基本的索引和切⽚</span><br><span class="line">In [60]: arr = np.arange(10)</span><br><span class="line">In [61]: arr</span><br><span class="line">Out[61]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">In [62]: arr[5]</span><br><span class="line">Out[62]: 5</span><br><span class="line">In [63]: arr[5:8]</span><br><span class="line">Out[63]: array([5, 6, 7])</span><br><span class="line">In [64]: arr[5:8] = 12</span><br><span class="line">In [65]: arr</span><br><span class="line">Out[65]: array([ 0, 1, 2, 3, 4, 12, 12, 12, 8, 9])</span><br><span class="line">In [66]: arr_slice = arr[5:8]</span><br><span class="line">In [67]: arr_slice</span><br><span class="line">Out[67]: array([12, 12, 12])</span><br><span class="line">In [68]: arr_slice[1] = 12345</span><br><span class="line">In [69]: arr</span><br><span class="line">Out[69]: array([ 0, 1, 2, 3, 4, 12, 12345, 12, 8,</span><br><span class="line">9])</span><br><span class="line">切⽚[ : ]会给数组中的所有值赋值</span><br><span class="line">In [70]: arr_slice[:] = 64</span><br><span class="line">In [71]: arr</span><br><span class="line">Out[71]: array([ 0, 1, 2, 3, 4, 64, 64, 64, 8, 9])</span><br><span class="line">ndarray切⽚的⼀份副本⽽⾮视图，就需要明确地进⾏复制操作，例如arr[5:8].copy()</span><br><span class="line">In [72]: arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])</span><br><span class="line">In [73]: arr2d[2]</span><br><span class="line">Out[73]: array([7, 8, 9])</span><br><span class="line"># 两种⽅式⼀样</span><br><span class="line">In [74]: arr2d[0][2]</span><br><span class="line">Out[74]: 3</span><br><span class="line">In [75]: arr2d[0, 2]</span><br><span class="line">Out[75]: 3</span><br><span class="line">多维数组中，如果省略了后⾯的索引，则返回对象会是⼀个维度低⼀点的ndarray</span><br><span class="line">In [76]: arr3d = np.array([[[1, 2, 3], [4, 5, 6]], [[7, 8, 9], [10, 11, 12]]])</span><br><span class="line">In [77]: arr3d</span><br><span class="line">Out[77]:</span><br><span class="line">array([[[ 1, 2, 3],</span><br><span class="line"> [ 4, 5, 6]],</span><br><span class="line"> [[ 7, 8, 9],</span><br><span class="line"> [10, 11, 12]]])</span><br><span class="line">arr3d.ndim</span><br><span class="line">In [78]: arr3d[0]</span><br><span class="line">Out[78]:</span><br><span class="line">array([[1, 2, 3],</span><br><span class="line"> [4, 5, 6]])</span><br><span class="line">arr3d[0].ndim</span><br><span class="line">标量值和数组都可以被赋值给arr3d[0]</span><br><span class="line">In [79]: old_values = arr3d[0].copy()</span><br><span class="line">In [80]: arr3d[0] = 42</span><br><span class="line">In [81]: arr3d</span><br><span class="line">Out[81]:</span><br><span class="line">array([[[42, 42, 42],</span><br><span class="line"> [42, 42, 42]],</span><br><span class="line"> [[ 7, 8, 9],</span><br><span class="line"> [10, 11, 12]]])</span><br><span class="line">In [82]: arr3d[0] = old_values</span><br><span class="line">In [83]: arr3d</span><br><span class="line">Out[83]:</span><br><span class="line">array([[[ 1, 2, 3],</span><br><span class="line"> [ 4, 5, 6]],</span><br><span class="line"> [[ 7, 8, 9],</span><br><span class="line"> [10, 11, 12]]])</span><br><span class="line">In [84]: arr3d[1, 0]</span><br><span class="line">Out[84]: array([7, 8, 9])</span><br><span class="line">切⽚索引</span><br><span class="line">In [90]: arr2d</span><br><span class="line">Out[90]:</span><br><span class="line">array([[1, 2, 3],</span><br><span class="line"> [4, 5, 6],</span><br><span class="line"> [7, 8, 9]])</span><br><span class="line">In [91]: arr2d[:2]</span><br><span class="line">Out[91]:</span><br><span class="line">array([[1, 2, 3],</span><br><span class="line"> [4, 5, 6]])</span><br><span class="line">⼀次传⼊多个切⽚</span><br><span class="line">In [92]: arr2d[:2, 1:]</span><br><span class="line">Out[92]:</span><br><span class="line">array([[2, 3],</span><br><span class="line"> [5, 6]])</span><br><span class="line">将整数索引和切⽚混合</span><br><span class="line">选取第⼆⾏的前两列</span><br><span class="line">In [93]: arr2d[1, :2]</span><br><span class="line">Out[93]: array([4, 5])</span><br><span class="line">选择第三列的前两⾏</span><br><span class="line">In [94]: arr2d[:2, 2]</span><br><span class="line">Out[94]: array([3, 6])</span><br><span class="line">“只有冒号”表示选取整个轴</span><br><span class="line">In [95]: arr2d[:, :1]</span><br><span class="line">Out[95]:</span><br><span class="line">array([[1],</span><br><span class="line"> [4],</span><br><span class="line"> [7]])</span><br><span class="line">In [96]: arr2d[:2, 1:] = 0</span><br><span class="line">In [97]: arr2d</span><br><span class="line">Out[97]:</span><br><span class="line">array([[1, 0, 0],</span><br><span class="line"> [4, 0, 0],</span><br><span class="line"> [7, 8, 9]])</span><br><span class="line">布尔型索引</span><br><span class="line">假设我们有⼀个⽤于存储数据的数组以及⼀个存储姓名的数组（含有重复项）</span><br><span class="line">In [98]: names = np.array([&apos;Bob&apos;, &apos;Joe&apos;, &apos;Will&apos;, &apos;Bob&apos;, &apos;Will&apos;, &apos;Joe&apos;, &apos;Joe&apos;])</span><br><span class="line">In [99]: data = np.random.randn(7, 4)</span><br><span class="line">In [100]: names</span><br><span class="line">Out[100]:</span><br><span class="line">array([&apos;Bob&apos;, &apos;Joe&apos;, &apos;Will&apos;, &apos;Bob&apos;, &apos;Will&apos;, &apos;Joe&apos;, &apos;Joe&apos;],</span><br><span class="line"> dtype=&apos;&lt;U4&apos;)</span><br><span class="line">In [101]: data</span><br><span class="line">Out[101]:</span><br><span class="line">array([[ 0.0929, 0.2817, 0.769 , 1.2464],</span><br><span class="line"> [ 1.0072, -1.2962, 0.275 , 0.2289],</span><br><span class="line"> [ 1.3529, 0.8864, -2.0016, -0.3718],</span><br><span class="line"> [ 1.669 , -0.4386, -0.5397, 0.477 ],</span><br><span class="line"> [ 3.2489, -1.0212, -0.5771, 0.1241],</span><br><span class="line"> [ 0.3026, 0.5238, 0.0009, 1.3438],</span><br><span class="line"> [-0.7135, -0.8312, -2.3702, -1.8608]])</span><br><span class="line">In [102]: names == &apos;Bob&apos;</span><br><span class="line">Out[102]: array([ True, False, False, True, False, False, False], dtype=bool)</span><br><span class="line">In [103]: data[names == &apos;Bob&apos;]</span><br><span class="line">Out[103]:</span><br><span class="line">array([[ 0.0929, 0.2817, 0.769 , 1.2464],</span><br><span class="line"> [ 1.669 , -0.4386, -0.5397, 0.477 ]])</span><br><span class="line">In [104]: data[names == &apos;Bob&apos;, 2:]</span><br><span class="line">Out[104]:</span><br><span class="line">array([[ 0.769 , 1.2464],</span><br><span class="line"> [-0.5397, 0.477 ]])</span><br><span class="line">In [105]: data[names == &apos;Bob&apos;, 3]</span><br><span class="line">Out[105]: array([ 1.2464, 0.477 ])</span><br><span class="line">要选择除”bob”以外的其他值，既可以使⽤不等于符号（!=），也可以通过~对条件进⾏否定</span><br><span class="line">In [106]: names != &apos;Bob&apos;</span><br><span class="line">Out[106]: array([False, True, True, False, True, True, True], dtype=bool)</span><br><span class="line">In [107]: data[~(names == &apos;Bob&apos;)]</span><br><span class="line">Out[107]:</span><br><span class="line">array([[ 1.0072, -1.2962, 0.275 , 0.2289],</span><br><span class="line"> [ 1.3529, 0.8864, -2.0016, -0.3718],</span><br><span class="line"> [ 3.2489, -1.0212, -0.5771, 0.1241],</span><br><span class="line"> [ 0.3026, 0.5238, 0.0009, 1.3438],</span><br><span class="line"> [-0.7135, -0.8312, -2.3702, -1.8608]])</span><br><span class="line">In [110]: mask = (names == &apos;Bob&apos;) | (names == &apos;Will&apos;)</span><br><span class="line">In [111]: mask</span><br><span class="line">Out[111]: array([ True, False, True, True, True, False, False], dtype=bool)</span><br><span class="line">In [112]: data[mask]</span><br><span class="line">Out[112]:</span><br><span class="line">array([[ 0.0929, 0.2817, 0.769 , 1.2464],</span><br><span class="line"> [ 1.3529, 0.8864, -2.0016, -0.3718],</span><br><span class="line"> [ 1.669 , -0.4386, -0.5397, 0.477 ],</span><br><span class="line"> [ 3.2489, -1.0212, -0.5771, 0.1241]])</span><br><span class="line">In [113]: data[data &lt; 0] = 0</span><br><span class="line">In [114]: data</span><br><span class="line">Out[114]:</span><br><span class="line">array([[ 0.0929, 0.2817, 0.769 , 1.2464],</span><br><span class="line"> [ 1.0072, 0. , 0.275 , 0.2289],</span><br><span class="line"> [ 1.3529, 0.8864, 0. , 0. ],</span><br><span class="line"> [ 1.669 , 0. , 0. , 0.477 ],</span><br><span class="line"> [ 3.2489, 0. , 0. , 0.1241],</span><br><span class="line"> [ 0.3026, 0.5238, 0.0009, 1.3438],</span><br><span class="line"> [ 0. , 0. , 0. , 0. ]])</span><br><span class="line">In [115]: data[names != &apos;Joe&apos;] = 7</span><br><span class="line">In [116]: data</span><br><span class="line">Out[116]:</span><br><span class="line">array([[ 7. , 7. , 7. , 7. ],</span><br><span class="line"> [ 1.0072, 0. , 0.275 , 0.2289],</span><br><span class="line"> [ 7. , 7. , 7. , 7. ],</span><br><span class="line"> [ 7. , 7. , 7. , 7. ],</span><br><span class="line"> [ 7. , 7. , 7. , 7. ],</span><br><span class="line"> [ 0.3026, 0.5238, 0.0009, 1.3438],</span><br><span class="line"> [ 0. , 0. , 0. , 0. ]])</span><br><span class="line">花式索引</span><br><span class="line">花式索引（Fancy indexing）是⼀个NumPy术语，它指的是利⽤整数数组进⾏索引</span><br><span class="line">In [117]: arr = np.empty((8, 4))</span><br><span class="line">In [118]: for i in range(8):</span><br><span class="line"> .....: arr[i] = i</span><br><span class="line">In [119]: arr</span><br><span class="line">Out[119]:</span><br><span class="line">array([[ 0., 0., 0., 0.],</span><br><span class="line"> [ 1., 1., 1., 1.],</span><br><span class="line"> [ 2., 2., 2., 2.],</span><br><span class="line"> [ 3., 3., 3., 3.],</span><br><span class="line"> [ 4., 4., 4., 4.],</span><br><span class="line"> [ 5., 5., 5., 5.],</span><br><span class="line"> [ 6., 6., 6., 6.],</span><br><span class="line"> [ 7., 7., 7., 7.]])</span><br><span class="line">为了以特定顺序选取⾏⼦集，只需传⼊⼀个⽤于指定顺序的整数列表或ndarray即可</span><br><span class="line">In [120]: arr[[4, 3, 0, 6]]</span><br><span class="line">Out[120]:</span><br><span class="line">array([[ 4., 4., 4., 4.],</span><br><span class="line"> [ 3., 3., 3., 3.],</span><br><span class="line"> [ 0., 0., 0., 0.],</span><br><span class="line"> [ 6., 6., 6., 6.]])</span><br><span class="line">使⽤负数索引将会从末尾开始选取⾏</span><br><span class="line">In [121]: arr[[-3, -5, -7]]</span><br><span class="line">Out[121]:</span><br><span class="line">array([[ 5., 5., 5., 5.],</span><br><span class="line"> [ 3., 3., 3., 3.],</span><br><span class="line"> [ 1., 1., 1., 1.]])</span><br><span class="line">⼀次传⼊多个索引数组会有⼀点特别。它返回的是⼀个⼀维数组，其中的元素对应各个索引元</span><br><span class="line">组</span><br><span class="line">In [122]: arr = np.arange(32).reshape((8, 4))</span><br><span class="line">In [123]: arr</span><br><span class="line">Out[123]:</span><br><span class="line">array([[ 0, 1, 2, 3],</span><br><span class="line"> [ 4, 5, 6, 7],</span><br><span class="line"> [ 8, 9, 10, 11],</span><br><span class="line"> [12, 13, 14, 15],</span><br><span class="line"> [16, 17, 18, 19],</span><br><span class="line"> [20, 21, 22, 23],</span><br><span class="line"> [24, 25, 26, 27],</span><br><span class="line"> [28, 29, 30, 31]])</span><br><span class="line"># 最终选出的是元素(1,0)、(5,3)、(7,1)和(2,2)</span><br><span class="line">In [124]: arr[[1, 5, 7, 2], [0, 3, 1, 2]]</span><br><span class="line">Out[124]: array([ 4, 23, 29, 10])</span><br><span class="line">In [125]: arr[[1, 5, 7, 2]][:, [0, 3, 1, 2]]</span><br><span class="line">Out[125]:</span><br><span class="line">array([[ 4, 7, 5, 6],</span><br><span class="line"> [20, 23, 21, 22],</span><br><span class="line"> [28, 31, 29, 30],</span><br><span class="line"> [ 8, 11, 9, 10]])</span><br><span class="line">数组转置和轴对换</span><br><span class="line">转置是重塑的⼀种特殊形式，它返回的是源数据的视图（不会进⾏任何复制操作）</span><br><span class="line">In [126]: arr = np.arange(15).reshape((3, 5))</span><br><span class="line">In [127]: arr</span><br><span class="line">Out[127]:</span><br><span class="line">array([[ 0, 1, 2, 3, 4],</span><br><span class="line"> [ 5, 6, 7, 8, 9],</span><br><span class="line"> [10, 11, 12, 13, 14]])</span><br><span class="line">In [128]: arr.T</span><br><span class="line">Out[128]:</span><br><span class="line">array([[ 0, 5, 10],</span><br><span class="line"> [ 1, 6, 11],</span><br><span class="line"> [ 2, 7, 12],</span><br><span class="line"> [ 3, 8, 13],</span><br><span class="line"> [ 4, 9, 14]])</span><br><span class="line">利⽤np.dot计算矩阵内积</span><br><span class="line">In [129]: arr = np.random.randn(6, 3)</span><br><span class="line">In [130]: arr</span><br><span class="line">Out[130]:</span><br><span class="line">array([[-0.8608, 0.5601, -1.2659],</span><br><span class="line"> [ 0.1198, -1.0635, 0.3329],</span><br><span class="line"> [-2.3594, -0.1995, -1.542 ],</span><br><span class="line"> [-0.9707, -1.307 , 0.2863],</span><br><span class="line"> [ 0.378 , -0.7539, 0.3313],</span><br><span class="line"> [ 1.3497, 0.0699, 0.2467]])</span><br><span class="line">In [131]: np.dot(arr.T, arr)</span><br><span class="line">Out[131]:</span><br><span class="line">array([[ 9.2291, 0.9394, 4.948 ],</span><br><span class="line"> [ 0.9394, 3.7662, -1.3622],</span><br><span class="line"> [ 4.948 , -1.3622, 4.3437]])</span><br><span class="line">对于⾼维数组，transpose需要得到⼀个由轴编号组成的元组才能对这些轴进⾏转置</span><br><span class="line">In [132]: arr = np.arange(16).reshape((2, 2, 4))</span><br><span class="line">In [133]: arr</span><br><span class="line">Out[133]:</span><br><span class="line">array([[[ 0, 1, 2, 3],</span><br><span class="line"> [ 4, 5, 6, 7]],</span><br><span class="line"> [[ 8, 9, 10, 11],</span><br><span class="line"> [12, 13, 14, 15]]])</span><br><span class="line">In [134]: arr.transpose((1, 0, 2))</span><br><span class="line">Out[134]:</span><br><span class="line">array([[[ 0, 1, 2, 3],</span><br><span class="line"> [ 8, 9, 10, 11]],</span><br><span class="line"> [[ 4, 5, 6, 7],</span><br><span class="line"> [12, 13, 14, 15]]])</span><br><span class="line">In [135]: arr</span><br><span class="line">Out[135]:</span><br><span class="line">array([[[ 0, 1, 2, 3],</span><br><span class="line"> [ 4, 5, 6, 7]],</span><br><span class="line"> [[ 8, 9, 10, 11],</span><br><span class="line"> [12, 13, 14, 15]]])</span><br><span class="line">In [136]: arr.swapaxes(1, 2)</span><br><span class="line">Out[136]:</span><br><span class="line">array([[[ 0, 4],</span><br><span class="line"> [ 1, 5],</span><br><span class="line"> [ 2, 6],</span><br><span class="line"> [ 3, 7]],</span><br><span class="line"> [[ 8, 12],</span><br><span class="line"> [ 9, 13],</span><br><span class="line"> [10, 14],</span><br><span class="line"> [11, 15]]])</span><br><span class="line">arr.swapaxes(0, 1)</span><br><span class="line">通⽤函数(ufunc)：快速的元素级数组函数</span><br><span class="line">In [137]: arr = np.arange(10)</span><br><span class="line">In [138]: arr</span><br><span class="line">Out[138]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">In [139]: np.sqrt(arr)</span><br><span class="line">Out[139]:</span><br><span class="line">array([ 0. , 1. , 1.4142, 1.7321, 2. , 2.2361, 2.4495,</span><br><span class="line"> 2.6458, 2.8284, 3. ])</span><br><span class="line">In [140]: np.exp(arr)</span><br><span class="line">Out[140]:</span><br><span class="line">array([ 1. , 2.7183, 7.3891, 20.0855, 54.5982,</span><br><span class="line"> 148.4132, 403.4288, 1096.6332, 2980.958 , 8103.0839])</span><br><span class="line">add或maximum接受2个数组（因此也叫⼆元（binary）ufunc），并返回⼀个结果数组</span><br><span class="line">In [141]: x = np.random.randn(8)</span><br><span class="line">In [142]: y = np.random.randn(8)</span><br><span class="line">In [143]: x</span><br><span class="line">Out[143]:</span><br><span class="line">array([-0.0119, 1.0048, 1.3272, -0.9193, -1.5491, 0.0222, 0.7584,</span><br><span class="line"> -0.6605])</span><br><span class="line">In [144]: y</span><br><span class="line">Out[144]:</span><br><span class="line">array([ 0.8626, -0.01 , 0.05 , 0.6702, 0.853 , -0.9559, -0.0235,</span><br><span class="line"> -2.3042])</span><br><span class="line">In [145]: np.maximum(x, y)</span><br><span class="line">Out[145]:</span><br><span class="line">array([ 0.8626, 1.0048, 1.3272, 0.6702, 0.853 , 0.0222, 0.7584,</span><br><span class="line"> -0.6605])</span><br><span class="line">返回浮点数数组的⼩数和整数部分</span><br><span class="line">In [146]: arr = np.random.randn(7) * 5</span><br><span class="line">In [147]: arr</span><br><span class="line">Out[147]: array([-3.2623, -6.0915, -6.663 , 5.3731, 3.6182, 3.45 ,</span><br><span class="line">5.0077])</span><br><span class="line">In [148]: remainder, whole_part = np.modf(arr)</span><br><span class="line">In [149]: remainder</span><br><span class="line">Out[149]: array([-0.2623, -0.0915, -0.663 , 0.3731,</span><br><span class="line">0.6182, 0.45 , 0.0077])</span><br><span class="line">In [150]: whole_part</span><br><span class="line">Out[150]: array([-3., -6., -6., 5., 3., 3., 5.])</span><br><span class="line">利⽤数组进⾏数据处理</span><br><span class="line">⽤数组表达式代替循环的做法，通常被称为⽮量化。⼀般来说，⽮量化数组运算要⽐等价的纯</span><br><span class="line">Python⽅式快上⼀两个数量级（甚⾄更多）。</span><br><span class="line">假设我们想要在⼀组值（⽹格型）上计算函数sqrt(x^2+y^2)</span><br><span class="line">np.meshgrid函数接受两个⼀维数组，并产⽣两个⼆维矩阵（对应于两个数组中所有的(x,y)</span><br><span class="line">对）</span><br><span class="line">In [155]: points = np.arange(-5, 5, 0.01) # 1000 equally spaced points</span><br><span class="line">In [156]: xs, ys = np.meshgrid(points, points)</span><br><span class="line">In [157]: ys</span><br><span class="line">Out[157]:</span><br><span class="line">array([[-5. , -5. , -5. , ..., -5. , -5. , -5. ],</span><br><span class="line"> [-4.99, -4.99, -4.99, ..., -4.99, -4.99, -4.99],</span><br><span class="line"> [-4.98, -4.98, -4.98, ..., -4.98, -4.98, -4.98],</span><br><span class="line"> ...,</span><br><span class="line"> [ 4.97, 4.97, 4.97, ..., 4.97, 4.97, 4.97],</span><br><span class="line"> [ 4.98, 4.98, 4.98, ..., 4.98, 4.98, 4.98],</span><br><span class="line"> [ 4.99, 4.99, 4.99, ..., 4.99, 4.99, 4.99]])</span><br><span class="line">In [158]: z = np.sqrt(xs ** 2 + ys ** 2)</span><br><span class="line">In [159]: z</span><br><span class="line">Out[159]:</span><br><span class="line">array([[ 7.0711, 7.064 , 7.0569, ..., 7.0499, 7.0569, 7.064 ],</span><br><span class="line"> [ 7.064 , 7.0569, 7.0499, ..., 7.0428, 7.0499, 7.0569],</span><br><span class="line"> [ 7.0569, 7.0499, 7.0428, ..., 7.0357, 7.0428, 7.0499],</span><br><span class="line"> ...,</span><br><span class="line"> [ 7.0499, 7.0428, 7.0357, ..., 7.0286, 7.0357, 7.0428],</span><br><span class="line"> [ 7.0569, 7.0499, 7.0428, ..., 7.0357, 7.0428, 7.0499],</span><br><span class="line"> [ 7.064 , 7.0569, 7.0499, ..., 7.0428, 7.0499, 7.0569]])</span><br><span class="line">matplotlib创建了这个⼆维数组的可视化</span><br><span class="line">In [160]: import matplotlib.pyplot as plt</span><br><span class="line">In [161]: plt.imshow(z, cmap=plt.cm.gray); plt.colorbar()</span><br><span class="line">Out[161]: &lt;matplotlib.colorbar.Colorbar at 0x7f715e3fa630&gt;</span><br><span class="line">In [162]: plt.title(&quot;Image plot of $\sqrt&#123;x^2 + y^2&#125;$ for a grid of values&quot;)</span><br><span class="line">Out[162]: &lt;matplotlib.text.Text at 0x7f715d2de748&gt;</span><br><span class="line">plt.show()</span><br><span class="line">将条件逻辑表述为数组运算</span><br><span class="line">In [165]: xarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])</span><br><span class="line">In [166]: yarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])</span><br><span class="line">In [167]: cond = np.array([True, False, True, True, False])</span><br><span class="line">当cond中的值为True时，选取xarr的值，否则从yarr中选取</span><br><span class="line">In [170]: result = np.where(cond, xarr, yarr)</span><br><span class="line">In [171]: result</span><br><span class="line">Out[171]: array([ 1.1, 2.2, 1.3, 1.4, 2.5])</span><br><span class="line">假设有⼀个由随机数据组成的矩阵，你希望将所有正值替换为2，将所有负值替换为－2</span><br><span class="line">In [172]: arr = np.random.randn(4, 4)</span><br><span class="line">In [173]: arr</span><br><span class="line">Out[173]:</span><br><span class="line">array([[-0.5031, -0.6223, -0.9212, -0.7262],</span><br><span class="line"> [ 0.2229, 0.0513, -1.1577, 0.8167],</span><br><span class="line"> [ 0.4336, 1.0107, 1.8249, -0.9975],</span><br><span class="line"> [ 0.8506, -0.1316, 0.9124, 0.1882]])</span><br><span class="line">In [174]: arr &gt; 0</span><br><span class="line">Out[174]:</span><br><span class="line">array([[False, False, False, False],</span><br><span class="line"> [ True, True, False, True],</span><br><span class="line"> [ True, True, True, False],</span><br><span class="line"> [ True, False, True, True]], dtype=bool)</span><br><span class="line">In [175]: np.where(arr &gt; 0, 2, -2)</span><br><span class="line">Out[175]:</span><br><span class="line">array([[-2, -2, -2, -2],</span><br><span class="line"> [ 2, 2, -2, 2],</span><br><span class="line"> [ 2, 2, 2, -2],</span><br><span class="line"> [ 2, -2, 2, 2]])</span><br><span class="line">⽤常数2替换arr中所有正的值</span><br><span class="line">In [176]: np.where(arr &gt; 0, 2, arr)</span><br><span class="line">Out[176]:</span><br><span class="line">array([[-0.5031, -0.6223, -0.9212, -0.7262],</span><br><span class="line"> [ 2. , 2. , -1.1577, 2. ],</span><br><span class="line"> [ 2. , 2. , 2. , -0.9975],</span><br><span class="line"> [ 2. , -0.1316, 2. , 2. ]])</span><br><span class="line">数学和统计⽅法</span><br><span class="line">可以通过数组上的⼀组数学函数对整个数组或某个轴向的数据进⾏统计计算。sum、mean以</span><br><span class="line">及标准差std等聚合计算（aggregation，通常叫做约简（reduction））</span><br><span class="line">In [177]: arr = np.random.randn(5, 4)</span><br><span class="line">In [178]: arr</span><br><span class="line">Out[178]:</span><br><span class="line">array([[ 2.1695, -0.1149, 2.0037, 0.0296],</span><br><span class="line"> [ 0.7953, 0.1181, -0.7485, 0.585 ],</span><br><span class="line"> [ 0.1527, -1.5657, -0.5625, -0.0327],</span><br><span class="line"> [-0.929 , -0.4826, -0.0363, 1.0954],</span><br><span class="line"> [ 0.9809, -0.5895, 1.5817, -0.5287]])</span><br><span class="line">In [179]: arr.mean()</span><br><span class="line">Out[179]: 0.19607051119998253</span><br><span class="line">In [180]: np.mean(arr)</span><br><span class="line">Out[180]: 0.19607051119998253</span><br><span class="line">In [181]: arr.sum()</span><br><span class="line">Out[181]: 3.9214102239996507</span><br><span class="line">arr.mean(1)是“计算⾏的平均值”，arr.sum(0)是“计算每列的和”</span><br><span class="line">In [182]: arr.mean(axis=1)</span><br><span class="line">Out[182]: array([ 1.022 , 0.1875, -0.502 , -0.0881, 0.3611])</span><br><span class="line">In [183]: arr.sum(axis=0)</span><br><span class="line">Out[183]: array([ 3.1693, -2.6345, 2.2381, 1.1486])</span><br><span class="line">In [184]: arr = np.array([0, 1, 2, 3, 4, 5, 6, 7])</span><br><span class="line">In [185]: arr.cumsum()</span><br><span class="line">Out[185]: array([ 0, 1, 3, 6, 10, 15, 21, 28])</span><br><span class="line">In [186]: arr = np.array([[0, 1, 2], [3, 4, 5], [6, 7, 8]])</span><br><span class="line">In [187]: arr</span><br><span class="line">Out[187]:</span><br><span class="line">array([[0, 1, 2],</span><br><span class="line"> [3, 4, 5],</span><br><span class="line"> [6, 7, 8]])</span><br><span class="line"># 所有元素的累积和</span><br><span class="line">In [188]: arr.cumsum(axis=0)</span><br><span class="line">Out[188]:</span><br><span class="line">array([[ 0, 1, 2],</span><br><span class="line"> [ 3, 5, 7],</span><br><span class="line"> [ 9, 12, 15]])</span><br><span class="line"># 所有元素的累积积</span><br><span class="line">In [189]: arr.cumprod(axis=1)</span><br><span class="line">Out[189]:</span><br><span class="line">array([[ 0, 0, 0],</span><br><span class="line"> [ 3, 12, 60],</span><br><span class="line"> [ 6, 42, 336]])</span><br><span class="line">⽤于布尔型数组的⽅法</span><br><span class="line">In [190]: arr = np.random.randn(100)</span><br><span class="line">In [191]: (arr &gt; 0).sum()</span><br><span class="line">Out[191]: 42</span><br><span class="line">any⽤于测试数组中是否存在⼀个或多个True，⽽all则检查数组中所有值是否都是True, 这两个</span><br><span class="line">⽅法也能⽤于⾮布尔型数组，所有⾮0元素将会被当做True</span><br><span class="line">In [192]: bools = np.array([False, False, True, False])</span><br><span class="line">In [193]: bools.any()</span><br><span class="line">Out[193]: True</span><br><span class="line">In [194]: bools.all()</span><br><span class="line">Out[194]: False</span><br><span class="line">排序</span><br><span class="line">In [195]: arr = np.random.randn(6)</span><br><span class="line">In [196]: arr</span><br><span class="line">Out[196]: array([ 0.6095, -0.4938, 1.24 , -0.1357, 1.43 , -0.8469])</span><br><span class="line">In [197]: arr.sort()</span><br><span class="line">In [198]: arr</span><br><span class="line">Out[198]: array([-0.8469, -0.4938, -0.1357, 0.6095, 1.24 , 1.43 ])</span><br><span class="line">多维数组可以在任何⼀个轴向上进⾏排序</span><br><span class="line">In [199]: arr = np.random.randn(5, 3)</span><br><span class="line">In [200]: arr</span><br><span class="line">Out[200]:</span><br><span class="line">array([[ 0.6033, 1.2636, -0.2555],</span><br><span class="line"> [-0.4457, 0.4684, -0.9616],</span><br><span class="line"> [-1.8245, 0.6254, 1.0229],</span><br><span class="line"> [ 1.1074, 0.0909, -0.3501],</span><br><span class="line"> [ 0.218 , -0.8948, -1.7415]])</span><br><span class="line">In [201]: arr.sort(1)</span><br><span class="line">In [202]: arr</span><br><span class="line">Out[202]:</span><br><span class="line">array([[-0.2555, 0.6033, 1.2636],</span><br><span class="line"> [-0.9616, -0.4457, 0.4684],</span><br><span class="line"> [-1.8245, 0.6254, 1.0229],</span><br><span class="line"> [-0.3501, 0.0909, 1.1074],</span><br><span class="line"> [-1.7415, -0.8948, 0.218 ]])</span><br><span class="line">顶级⽅法np.sort返回的是数组的已排序副本，⽽就地排序则会修改数组本身</span><br><span class="line">唯⼀化以及其它的集合逻辑</span><br><span class="line">找出数组中的唯⼀值并返回已排序的结果</span><br><span class="line">In [206]: names = np.array([&apos;Bob&apos;, &apos;Joe&apos;, &apos;Will&apos;, &apos;Bob&apos;, &apos;Will&apos;, &apos;Joe&apos;, &apos;Joe&apos;])</span><br><span class="line">In [207]: np.unique(names)</span><br><span class="line">Out[207]:</span><br><span class="line">array([&apos;Bob&apos;, &apos;Joe&apos;, &apos;Will&apos;],</span><br><span class="line"> dtype=&apos;&lt;U4&apos;)</span><br><span class="line">In [208]: ints = np.array([3, 3, 3, 2, 2, 1, 1, 4, 4])</span><br><span class="line">In [209]: np.unique(ints)</span><br><span class="line">Out[209]: array([1, 2, 3, 4])</span><br><span class="line">函数np.in1d⽤于测试⼀个数组中的值在另⼀个数组中的成员资格，返回⼀个布尔型数组</span><br><span class="line">In [211]: values = np.array([6, 0, 0, 3, 2, 5, 6])</span><br><span class="line">In [212]: np.in1d(values, [2, 3, 6])</span><br><span class="line">Out[212]: array([ True, False, False, True, True, False, True], dtype=bool)</span><br><span class="line">⽤于数组的⽂件输⼊输出</span><br><span class="line">NumPy的内置⼆进制格式读写</span><br><span class="line">np.save和np.load是读写磁盘数组数据的两个主要函数。默认情况下，数组是以未压缩的原始</span><br><span class="line">⼆进制格式保存在扩展名为.npy的⽂件中的</span><br><span class="line">In [213]: arr = np.arange(10)</span><br><span class="line">In [214]: np.save(&apos;some_array&apos;, arr)</span><br><span class="line">In [215]: np.load(&apos;some_array.npy&apos;)</span><br><span class="line">Out[215]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">通过np.savez可以将多个数组保存到⼀个未压缩⽂件中</span><br><span class="line">In [216]: np.savez(&apos;array_archive.npz&apos;, a=arr, b=arr)</span><br><span class="line">In [217]: arch = np.load(&apos;array_archive.npz&apos;)</span><br><span class="line">In [218]: arch[&apos;b&apos;]</span><br><span class="line">Out[218]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">将数据压缩，可以使⽤numpy.savez_compressed</span><br><span class="line">In [219]: np.savez_compressed(&apos;arrays_compressed.npz&apos;, a=arr, b=arr)</span><br><span class="line">线性代数</span><br><span class="line">矩阵乘法的dot函数</span><br><span class="line">In [223]: x = np.array([[1., 2., 3.], [4., 5., 6.]])</span><br><span class="line">In [224]: y = np.array([[6., 23.], [-1, 7], [8, 9]])</span><br><span class="line">In [225]: x</span><br><span class="line">Out[225]:</span><br><span class="line">array([[ 1., 2., 3.],</span><br><span class="line"> [ 4., 5., 6.]])</span><br><span class="line">In [226]: y</span><br><span class="line">Out[226]:</span><br><span class="line">array([[ 6., 23.],</span><br><span class="line"> [ -1., 7.],</span><br><span class="line"> [ 8., 9.]])</span><br><span class="line">In [227]: x.dot(y)</span><br><span class="line">Out[227]:</span><br><span class="line">array([[ 28., 64.],</span><br><span class="line"> [ 67., 181.]])</span><br><span class="line">⼀个⼆维数组跟⼀个⼤⼩合适的⼀维数组的矩阵点积运算之后将会得到⼀个⼀维数组</span><br><span class="line">In [229]: np.dot(x, np.ones(3))</span><br><span class="line">Out[229]: array([ 6., 15.])</span><br><span class="line">@符也可以⽤作中缀运算符，进⾏矩阵乘法</span><br><span class="line">In [230]: x @ np.ones(3)</span><br><span class="line">Out[230]: array([ 6., 15.])</span><br><span class="line">伪随机数⽣成</span><br><span class="line">⽤normal来得到⼀个标准正态分布的4×4样本数组</span><br><span class="line">In [238]: samples = np.random.normal(size=(4, 4))</span><br><span class="line">In [239]: samples</span><br><span class="line">Out[239]:</span><br><span class="line">array([[ 0.5732, 0.1933, 0.4429, 1.2796],</span><br><span class="line"> [ 0.575 , 0.4339, -0.7658, -1.237 ],</span><br><span class="line"> [-0.5367, 1.8545, -0.92 , -0.1082],</span><br><span class="line"> [ 0.1525, 0.9435, -1.0953, -0.144 ]])</span><br><span class="line">Python内置的random模块则只能⼀次⽣成⼀个样本值。从下⾯的测试结果中可以看出，如果</span><br><span class="line">需要产⽣⼤量样本值，numpy.random快了不⽌⼀个数量级</span><br><span class="line">In [240]: from random import normalvariate</span><br><span class="line">In [241]: N = 1000000</span><br><span class="line">In [242]: %timeit samples = [normalvariate(0, 1) for _ in range(N)]</span><br><span class="line">1.77 s +- 126 ms per loop (mean +- std. dev. of 7 runs, 1 loop each)</span><br><span class="line">In [243]: %timeit np.random.normal(size=N)</span><br><span class="line">61.7 ms +- 1.32 ms per loop (mean +- std. dev. of 7 runs, 10 loops each)</span><br><span class="line">numpy.random的数据⽣成函数使⽤了全局的随机种⼦。要避免全局状态，你可以使⽤</span><br><span class="line">numpy.random.RandomState，创建⼀个与其它隔离的随机数⽣成器</span><br><span class="line">In [245]: rng = np.random.RandomState(1234)</span><br><span class="line">In [246]: rng.randn(10)</span><br><span class="line">Out[246]:</span><br><span class="line">array([ 0.4714, -1.191 , 1.4327, -0.3127, -0.7206, 0.8872, 0.8596,</span><br><span class="line"> -0.6365, 0.0157, -2.2427])</span><br><span class="line">示例：随机漫步</span><br><span class="line">⽤np.random模块⼀次性随机产⽣1000个“掷硬币”结果（即两个数中任选⼀个），将其分别设</span><br><span class="line">置为1或－1，然后计算累计和</span><br><span class="line">In [251]: nsteps = 1000</span><br><span class="line">In [252]: draws = np.random.randint(0, 2, size=nsteps)</span><br><span class="line">In [253]: steps = np.where(draws &gt; 0, 1, -1)</span><br><span class="line">In [254]: walk = steps.cumsum()</span><br><span class="line">In [255]: walk.min()</span><br><span class="line">Out[255]: -3</span><br><span class="line">In [256]: walk.max()</span><br><span class="line">Out[256]: 31</span><br><span class="line">我们想要知道本次随机漫步需要多久才能距离初始0点⾄少10步远（任⼀⽅向均可）</span><br><span class="line">In [257]: (np.abs(walk) &gt;= 10).argmax()</span><br><span class="line">Out[257]: 37</span><br></pre></td></tr></table></figure>

            </div>

            <!-- Post Comments -->
            

        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
